<!DOCTYPE html>
<!--
                      __  .__              ________ 
  ______ ____   _____/  |_|__| ____   ____/   __   \
 /  ___// __ \_/ ___\   __\  |/  _ \ /    \____    /
 \___ \\  ___/\  \___|  | |  (  <_> )   |  \ /    / 
/____  >\___  >\___  >__| |__|\____/|___|  //____/ .co.uk 
     \/     \/     \/                    \/        
   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-gb" class="skrollr skrollr-desktop">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>An Electronic Wedding Invitation</title>
    <meta name="author" content="Benjamin Blundell" />
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Section9 ATOM Feed">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/css/s9.css" rel="stylesheet" media="screen">
    <link href="/css/font-awesome.min.css" rel="stylesheet" media="screen">


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/s9-144.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/s9-114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/s9-72.png">
    <link rel="apple-touch-icon-precomposed" href="/images/s9-57.png">
    <link rel="shortcut icon" href="/images/favicon.ico">

    <!-- META DATA - Need to Check and Update -->
    <meta name="google-site-verification" content="Ew7bGq_-B5Djz3nNvxYt6abpW2fUBOU-rFKrlvIQwiU" /> 

    <!-- General metadata -->
    <meta name="generator" content="" />
    <meta name="robots" content="index,follow" />
    <meta name="revisit-after" content="2 days" />
    <meta name="Author-Template" content="" />
    <meta name="Author" content="Benjamin Blundell" />
    <meta name="Publisher" content="Benjamin Blundell" />
    <meta name="Publisher-Email" content="ben@section9.co.uk" />
    <meta name="Coverage" content="UK" /> 

    <!-- Dublin Core Metadata -->
    <meta name="DC.creator" lang="en" content="Benjamin Blundell" />
    <meta name="DC.date.created" lang="en" content="" />
    <meta name="DC.format" lang="en" content="text/html" />
    <meta name="DC.language" content="en" />
    <meta name="DC.publisher" lang="en" content="Benjamin Blundell" />
    <meta name="DC.rights.copyright" lang="en" content="Benjamin Blundell" />
    <meta name="DC.coverage" lang="en" content="" />
    <meta name="DC.identifier" content="" />    

    <!-- eGMS Metadata -->
    <meta name="eGMS.status" lang="en" content="V1.0 Public Consumption" />

    <meta name="Keywords" content="opengl, webgl, coffeescript, git, hpc, kinect, opengl, cinder,openframeworks, cpp, c++, programming, graphics, art, design, code" />
    <meta name="Description" content="Benjamin Blundell, section9 dot co dot uk, the home of Benjamin Blundell. I make things with computers"/>
    <meta name="DC.title" lang="en" content="section9 dot co dot uk - Benjamin Blundell" />
    <meta name="DC.description" lang="en" content="" />
    <meta name="DC.subject" lang="en" content="" /> 

    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/skrollr.min.js"></script>


  </head>

  <body>

    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <img class="navbar-brand-image" src="/images/s9black_small.png" alt="section9 logo" />

          
          <a class="navbar-brand" href="/index.html">Benjamin J. Blundell</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
         
          
        </div>
      </div>
    </nav>

     
    <div class ="container post" id="content">
      <div class="col-md-12 col-lg-12">

        <h3>An Electronic Wedding Invitation</h3>
        <h4>29-11-2016</h4>
        
<p>So I'm getting married. Not something I ever thought would occur but it's happening! I'm very excited! A big adventure is about to start (and not just the wedding - more on that in the coming months). Since we are both nerds, my fiancee and I wanted some sort of nerdy aspect to our wedding and we figured that the invite itself was the best thing to work on. It allows for a few of our family and good friends to get in on the action and it's a little more interesting than just a paper slip. It's something you can keep and modify after the event.</p>
<p><img alt="" src="https://c2.staticflickr.com/6/5710/30924534670_4d71a4de2e.jpg" /></p>
<p>The design is based around the <a href="https://www.sparkfun.com/products/10168">nokia 5110 screen</a> and the <a href="http://www.atmel.com/devices/ATTINY85.aspx">ATtiny85</a> chip. I've generally been an AVR type person as oppose to PIC or the like, due to the arduino background I have. I wanted to use a screen and my good friend <a href="https://twitter.com/CharlesYarnold">charles</a> mentioned the 5110. They are cheap and pleasingly retro which ticks two boxes. Not only that, but you can use <a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus">SPI</a> to talk to it, so its really easy to link with the ATtiny. I've used a few different SPI libs in projects before such as the <a href="https://www.section9.co.uk/posts/2013-09-12-Doorbell.html">Doorbell</a> I put together a few years back. With the basics in mind, I started by breadboarding the design using a 5110 breakout board and a through-hole version of the chip. The final design would use surface mount (as I generally prefer soldering that way).</p>
<p><img alt="" src="https://c2.staticflickr.com/6/5499/31148517212_e0572dd479.jpg" /></p>
<p>The trick with this design is keeping the cost low, the design easy to solder and still have the boards finished before the end of November. In the end, thanks to the pound plummeting against the dollar, we had a few issues with sourcing screens from China. I used <a href="http://www.alibaba.com">Alibaba</a> to contact a Chinese supplier, paying extra for the faster shipping. Some of the screens had duff connectors and I reckon I could have done better by just going with eBay. Rather than go with <a href="http://dirtypcbs.com/">DirtyPCB</a> as I usually do, I asked <a href="http://quick-teck.co.uk/index.php">Quick-Teck</a> to manufacture the boards. Whilst they cost more (and the delivery time was about the same) they are based in the UK and they check over the boards for you. I felt this was worth it because we had to have the boards work first time. </p>
<p>I used <a href="https://www.rs-online.com/designspark/home">Designspark</a> to design my boards. I had to convert an <a href="https://cadsoft.io/">EAGLE</a> footprint of the 5110 board I found into designspark format, but fortunately this is not so hard. I'm still undecided which program I like the best - both have pros and cons. The tricky parts of the board are not the electrical bit, but the physical connections required to 'snap' the screen into place. The connection has to be good for the screen to work. Now the invites are out, I can say that this connection was probably the hardest bit. That, and the initial problem I had in flashing the chip.</p>
<p><img alt="" src="https://c2.staticflickr.com/6/5605/30248154333_7c068dfd11.jpg" /></p>
<p>I spent a long time wondering why my buspirate would not flash the chip? People told me that I needed <a href="https://en.wikipedia.org/wiki/Decoupling_capacitor">decoupling capacitors</a> (in analysing the board, I noticed a mistake with resistor R2 but lets just gloss over that). In the end, this wasn't the problem. It was the fact that the breakout pin holes were not making a solid connection with the programmer. I used header pins soldering in for the first few boards to confirm this, and then settled on some pogo pins to program the rest. It's always good to check and double check all the things. In fact, this is probably the most difficult thing, for me personally. Making sure the little foam connector on the screens is the right way around was another gotcha. The 5110 uses a small, foam like connector that has one side looking blank (ish) and the other with the 9 darker looking connections. Some of the screens had this foam connector inserted the wrong way.</p>
<p><img alt="" src="https://c2.staticflickr.com/6/5495/31148518572_6befbbb0f7.jpg" /></p>
<p>Soldering everything up didn't take too long once I got the hang of it. I could manage about 10 per hour which seemed alright to me. Surface mount soldering I find much easier than through-hole. You just need the right solder (leaded for sure!), a flux pen and a decent pair of tweezers. A small box with lids can hold your parts in order so you don't have to faff with the wrappers when you are assembling and using plenty of solder on battery clip joints is key. Solder wick is handy if you end up joining the legs of a chip together but with the right amount of flux this rarely occurs.</p>
<p><img alt="" src="https://c2.staticflickr.com/6/5835/30924537350_15b8a871a6.jpg" /></p>
<p>The software is mostly based <a href="http://thegaragelab.com/nokia-5110-lcd-displays-on-the-attiny/">on the work by this chap</a>. I modified it, and adapted various segments, cut out what wasn't needed and added some functions and tests of my own. Another issue we had after flashing the chips was to do with contrast. I uploaded the classic 'hello-word-blinky-led' program to the boards, just to make sure they actually worked and ran code. They did but the screens were still blank. Turns out they weren't blank - they just had the contrast turned way down in the light end. Altering that in code and checking connections seemed to work. </p>
<p>The whole thing is <a href="https://github.com/OniDaito/WeddingInvite">up on github</a> and is fairly straightforward to play with, if you are into this sort of thing. It's a cheap way to get 8K worth of functionality onto a screen with low power and cost requirements. I suspect I'll end up using the remaining screens for a few silly projects after the wedding no doubt. I think a few Snake and Tetris clones might be required at the very least.</p>
      </div>

     
    </div>
    
    <hr />

    <footer>

      <div class="container">
        <div class="row">
          <div class="col-md-4 col-sm-4 col-lg-4">
            <p>© Benjamin J. Blundell 2015 - <a title="Share &amp; Enjoy — CC-BY" href="https://creativecommons.org/licenses/by/3.0/">CC-BY</a> <a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></p>
          </div>
          <div class="col-md-4 col-sm-4 col-lg-4">
            <p class="places-text">
              <a href="https://github.com/OniDaito" title="GitHub">github</a>
              <a href="http://stackoverflow.com/users/104324/oni" title="Stack-Overflow">stack-overflow</a>
              <a href="https://www.flickr.com/photos/section9/" title="Flickr">flickr</a>
              <a href="https://www.youtube.com/user/onidaito/videos" title="Youtube">youtube</a>
              <a href="https://vimeo.com/user1678273/videos" title="Vimeo">vimeo</a>
            </p>
          </div>
          <div class="col-md-4 col-sm-4 col-lg-4">
            <p class="places-text">
             <a href="http://www.twitter.com/secti0n9" title="Twitter">twitter</a>
             <a href="mailto:ben@section9.co.uk" title="Email">email</a>
             <a href="https://uk.linkedin.com/in/section9" title="LinkedIn">linked-in</a>
             <a href="https://plus.google.com/u/0/+BenjaminBlundell/posts" title="Google Plus">google+</a>
             <a href="/key.html" title="GPG Key">gpg</a>
           </p>
         </div>
       </div>


     </footer>
   </div>

  <script type="text/javascript">
    $(window).load(function(){

    // Process all images in the post for  left / right align
    var images = $(".post img");
    for(var i = 0; i < images.length; i++) {
     
      $(images[i]).addClass("img-responsive");
      $(images[i]).attr("align","middle");
    
    }
  });
  </script>

  </body>
</html>

